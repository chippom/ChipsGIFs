document.addEventListener("DOMContentLoaded",function(){var o=new IntersectionObserver(function(e){e.forEach(function(t){if(t.isIntersecting){var i=t.target;i.dataset.gif&&i.src!==i.dataset.gif&&(i.src=i.dataset.gif,o.unobserve(i))}})},{rootMargin:"800px"});document.querySelectorAll(".gif-item img").forEach(function(e,t){var i=e.src;e.dataset.gif=i;t<6?e.src=i:o.observe(e)}),document.querySelectorAll(".gif-item").forEach(function(e){e.onclick=function(){var t=e.querySelector("img"),i=document.getElementById("overlay-img"),o=document.getElementById("overlay");t&&i&&o&&(i.src=t.dataset.gif,o.classList.add("active"))}});var e=document.getElementById("overlay");e&&(e.onclick=function(){this.classList.remove("active");var e=document.getElementById("overlay-img");e&&(e.src="")});var t=document.getElementById("dark-mode-toggle");t&&t.addEventListener("click",function(){document.body.classList.toggle("dark-mode")}),document.querySelectorAll(".download-btn").forEach(function(e){e.onclick=function(){var t=e.closest(".gif-item");if(t){var i=t.querySelector("img");i&&i.dataset.gif&&window.open(i.dataset.gif,"_blank")}}})});